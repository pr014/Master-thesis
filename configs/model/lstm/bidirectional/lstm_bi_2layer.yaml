# LSTM1D Bidirectional model-specific configuration (2-Layer)
# Merges with baseline.yaml
# Only LSTM1D_Bidirectional-specific overrides go here
# Improved architecture with mean pooling, embedding, and dropout between layers

model:
  type: "LSTM1D_Bidirectional"
  num_classes: 10  # LOS bin classification: [0,1), [1,2), ..., [9, +inf) = 10 classes
                  # Note: For regression, this is ignored (output_dim = 1)
  
  # LSTM-specific architecture parameters
  # Architecture: 2-Layer Bidirectional LSTM for ECG time series classification/regression
  # Layer 1: 128 per direction → 256 output
  # Layer 2: 128 per direction → 256 output (input is 256 from Layer 1)
  # Dropout between layers prevents overfitting
  # ~595K parameters (2 layers) - ~2.56x unidirectional (232K)
  # Higher parameter count is expected for bidirectional: processes both forward and backward
  # temporal dependencies, capturing more information than unidirectional LSTM
  
  hidden_dim: 128  # Hidden dimension per direction for Layer 1 (forward + backward = 256 total)
  hidden_dim_layer2: 128  # Hidden dimension per direction for Layer 2 (keep same as Layer 1)
  num_layers: 2  # Number of LSTM layers (hierarchical temporal dependencies)
  lstm_dropout: 0.2  # Dropout between LSTM layers (prevents overfitting)
  bidirectional: true  # Bidirectional LSTM (enforced in model)
  
  # Pooling Strategy
  # "mean": Aggregates information across all timesteps (recommended)
  # "last": Only uses last hidden state (discards 99.98% of information)
  # "max": Maximum pooling over time dimension
  # Scientific justification: Lin et al. (2013) demonstrate mean pooling improves LSTM performance
  pooling: "mean"
  
  # Embedding Layer (ENABLED)
  # Increases representation capacity from raw signal values
  # Scientific justification: Mikolov et al. (2013) demonstrate embeddings improve feature quality
  use_embedding: true
  embedding_dim: 64  # Embedding dimension

